// Usage Instructions:
// Paste the query below into the Log Analytics query editor.
// Click the "Save" button and select "Save as function".
// Enter "NXLog_parsed_DNS_Server_view" in the "Function name" field.
// For "Legacy category:" enter "DNS Server logs".
// "Paramters" are not needed.
// Function usually takes 10-15 minutes to activate.
// You can then use this function from any other queries (e.g. NXLog_parsed_DNS_Server_view | take 10).
// Reference: Using functions in Azure monitor log queries : https://docs.microsoft.com/azure/azure-monitor/log-query/functions
let NXLog_parsed_DNS_Server_view = view () {
    DNS_Server_CL
    | project-rename
        AA=AA_s,
        AccountName=AccountName_s,
        AccountType=AccountType_s,
        AD=AD_s,
        AdditionalInfo=AdditionalInfo_s,
        BufferSize=BufferSize_s,
        CacheScope=CacheScope_s,
        ChannelID=ChannelID_d,
        CustomLogName=Type,
        Destination=Destination_s,
        DNSSEC=DNSSEC_s,
        Domain=Domain_s,
        ElapsedTime=ElapsedTime_s,
        EventReceivedTime=EventReceivedTime_t,
        EventID=EventID_d,
        EventTime=EventTime_t,
        EventType=EventType_s,
        ExecutionProcessID=ExecutionProcessID_d,
        ExecutionThreadID=ExecutionThreadID_d,
        FilePath=FilePath_s,
        Flags=Flags_s,
        GUID=GUID_g,
        Hostname=Hostname_s,
        InterfaceIP=InterfaceIP_s,
        Keywords=Keywords_s,
        Lookup=Lookup_s,
        NAME=NAME_s,
        Name=Name_s,
        NewValue=NewValue_s,
        OpcodeValue=OpcodeValue_d,
        PacketData=PacketData_s,
        PolicyName=PolicyName_s,
        Port=Port_s,
        PropertyKey=PropertyKey_s,
        ProviderGuid=ProviderGuid_g,
        QNAME=QNAME_s,
        QTYPE=QTYPE_s,
        QXID=QXID_s,
        RCODE=RCODE_s,
        RD=RD_s,
        RDATA=RDATA_s,
        Reason=Reason_s,
        RecursionDepth=RecursionDepth_s,
        RecursionScope=RecursionScope_s,
        ReplicationScope=ReplicationScope_s,
        Scope=Scope_s,
        Severity=Severity_s,
        SeverityValue=SeverityValue_d,
        Source=Source_s,
        SourceModuleName=SourceModuleName_s,
        SourceModuleType=SourceModuleType_s,
        SourceName=SourceName_s,
        TaskValue=TaskValue_d,
        TCP=TCP_s,
        TTL=TTL_s,
        UserID=UserID_s,
        Version=Version_d,
        VirtualizationID=VirtualizationID_s,
        XID=XID_s,
        Zone=Zone_s,
        ZoneFile=ZoneFile_s,
        ZoneScope=ZoneScope_s
    | project-rename
        Type=Type_s
};
NXLog_parsed_DNS_Server_view();