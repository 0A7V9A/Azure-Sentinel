{
  "name": "{workbook_name}",
  "location": "{workbook_location}",
  "tags": null,
  "type": "microsoft.insights/workbooks",
  "kind": "shared",
  "properties": {
    "displayName": "{workbook_type} {workbook_resourceGroup}",
    "version": "1.0",
    "serializedData": "{\"version\":\"Notebook/1.0\",\"items\":[{\"type\":1,\"content\":\"{\\\"json\\\":\\\"**Cisco ASA overview**\\\"}\",\"name\":\"text - 0\"},{\"type\":9,\"content\":\"{\\\"version\\\":\\\"KqlParameterItem/1.0\\\",\\\"query\\\":\\\"\\\",\\\"crossComponentResources\\\":[],\\\"parameters\\\":[{\\\"id\\\":\\\"89343b86-c904-4727-995a-1fcec10b5a27\\\",\\\"version\\\":\\\"KqlParameterItem/1.0\\\",\\\"name\\\":\\\"TimeRange\\\",\\\"type\\\":4,\\\"value\\\":{\\\"durationMs\\\":1209600000},\\\"typeSettings\\\":{\\\"selectableValues\\\":[{\\\"durationMs\\\":300000},{\\\"durationMs\\\":900000},{\\\"durationMs\\\":1800000},{\\\"durationMs\\\":3600000},{\\\"durationMs\\\":14400000},{\\\"durationMs\\\":43200000},{\\\"durationMs\\\":86400000},{\\\"durationMs\\\":172800000},{\\\"durationMs\\\":259200000},{\\\"durationMs\\\":604800000},{\\\"durationMs\\\":1209600000},{\\\"durationMs\\\":2419200000},{\\\"durationMs\\\":2592000000},{\\\"durationMs\\\":5184000000},{\\\"durationMs\\\":7776000000}]}}],\\\"style\\\":\\\"pills\\\",\\\"queryType\\\":0,\\\"resourceType\\\":\\\"microsoft.resources/resourcegroups\\\"}\",\"name\":\"parameters - 3\"},{\"type\":3,\"content\":\"{\\\"version\\\":\\\"KqlItem/1.0\\\",\\\"query\\\":\\\"let data = CommonSecurityLog\\\\r\\\\n| where DeviceVendor =~ 'Cisco'\\\\r\\\\n| where DeviceProduct =~ 'ASA';\\\\r\\\\ndata\\\\r\\\\n| summarize Count = count() by LogSeverity\\\\r\\\\n| join kind = fullouter (datatable(LogSeverity:string)['Medium', 'high', 'low']) on LogSeverity\\\\r\\\\n| project LogSeverity = iff(LogSeverity == '', LogSeverity1, LogSeverity), Count = iff(LogSeverity == '', 0, Count)\\\\r\\\\n| join kind = inner (data\\\\r\\\\n | make-series Trend = count() default = 0 on TimeGenerated from {TimeRange:start} to {TimeRange:end} step {TimeRange:grain} by LogSeverity)\\\\r\\\\n on LogSeverity\\\\r\\\\n| project-away LogSeverity1, TimeGenerated\\\\r\\\\n| extend Severity = LogSeverity\\\\r\\\\n| union (\\\\r\\\\n data \\\\r\\\\n | summarize Count = count() \\\\r\\\\n | extend jkey = 1\\\\r\\\\n | join kind=inner (data\\\\r\\\\n | make-series Trend = count() default = 0 on TimeGenerated from {TimeRange:start} to {TimeRange:end} step {TimeRange:grain}\\\\r\\\\n | extend jkey = 1) on jkey\\\\r\\\\n | extend LogSeverity = 'All', Severity = '*' \\\\r\\\\n)\\\\r\\\\n| order by Count desc\\\",\\\"size\\\":4,\\\"title\\\":\\\"FIrewall event severity\\\",\\\"timeContext\\\":{\\\"durationMs\\\":0},\\\"timeContextFromParameter\\\":\\\"TimeRange\\\",\\\"queryType\\\":0,\\\"resourceType\\\":\\\"microsoft.operationalinsights/workspaces\\\",\\\"visualization\\\":\\\"tiles\\\",\\\"tileSettings\\\":{\\\"titleContent\\\":{\\\"columnMatch\\\":\\\"LogSeverity\\\",\\\"formatter\\\":1,\\\"formatOptions\\\":{\\\"showIcon\\\":true}},\\\"leftContent\\\":{\\\"columnMatch\\\":\\\"Count\\\",\\\"formatter\\\":12,\\\"formatOptions\\\":{\\\"palette\\\":\\\"auto\\\",\\\"showIcon\\\":true},\\\"numberFormat\\\":{\\\"unit\\\":17,\\\"options\\\":{\\\"style\\\":\\\"decimal\\\",\\\"maximumFractionDigits\\\":2,\\\"maximumSignificantDigits\\\":3}}},\\\"secondaryContent\\\":{\\\"columnMatch\\\":\\\"Trend\\\",\\\"formatter\\\":9,\\\"formatOptions\\\":{\\\"palette\\\":\\\"blue\\\",\\\"showIcon\\\":true}},\\\"showBorder\\\":false},\\\"graphSettings\\\":{\\\"type\\\":0,\\\"topContent\\\":{\\\"columnMatch\\\":\\\"LogSeverity\\\",\\\"formatter\\\":1},\\\"centerContent\\\":{\\\"columnMatch\\\":\\\"SeverityVolume\\\",\\\"formatter\\\":1,\\\"numberFormat\\\":{\\\"unit\\\":17,\\\"options\\\":{\\\"maximumSignificantDigits\\\":3,\\\"maximumFractionDigits\\\":2}}}}}\",\"customWidth\":\"30\",\"name\":\"query - 1\",\"styleSettings\":{\"maxWidth\":\"20\"}},{\"type\":3,\"content\":\"{\\\"version\\\":\\\"KqlItem/1.0\\\",\\\"query\\\":\\\"let data = CommonSecurityLog\\\\r\\\\n| where DeviceVendor =~ 'Cisco'\\\\r\\\\n| where DeviceProduct =~ 'ASA'\\\\r\\\\n| where SimplifiedDeviceAction != \\\\\\\"\\\\\\\";\\\\r\\\\ndata\\\\r\\\\n| summarize Count = count() by SimplifiedDeviceAction \\\\r\\\\n| join kind = fullouter (datatable(SimplifiedDeviceAction:string)['Medium', 'high', 'low']) on SimplifiedDeviceAction\\\\r\\\\n| project SimplifiedDeviceAction = iff(SimplifiedDeviceAction == '', SimplifiedDeviceAction1, SimplifiedDeviceAction), Count = iff(SimplifiedDeviceAction == '', 0, Count)\\\\r\\\\n| join kind = inner (data\\\\r\\\\n | make-series Trend = count() default = 0 on TimeGenerated from datetime(\\\\\\\"2019-07-11T11:05:44.214Z\\\\\\\") to datetime(\\\\\\\"2019-07-25T11:05:44.214Z\\\\\\\") step 6h by SimplifiedDeviceAction)\\\\r\\\\n on SimplifiedDeviceAction\\\\r\\\\n| project-away SimplifiedDeviceAction1, TimeGenerated\\\\r\\\\n| extend DeviceAction = SimplifiedDeviceAction\\\\r\\\\n| union (\\\\r\\\\n data \\\\r\\\\n | summarize Count = count() \\\\r\\\\n | extend jkey = 1\\\\r\\\\n | join kind=inner (data\\\\r\\\\n | make-series Trend = count() default = 0 on TimeGenerated from datetime(\\\\\\\"2019-07-11T11:05:44.214Z\\\\\\\") to datetime(\\\\\\\"2019-07-25T11:05:44.214Z\\\\\\\") step 6h\\\\r\\\\n | extend jkey = 1) on jkey\\\\r\\\\n | extend SimplifiedDeviceAction = 'All', DeviceAction = '*' \\\\r\\\\n)\\\\r\\\\n| order by Count desc\\\",\\\"size\\\":4,\\\"title\\\":\\\"Firewall events actions\\\",\\\"timeContext\\\":{\\\"durationMs\\\":0},\\\"timeContextFromParameter\\\":\\\"TimeRange\\\",\\\"queryType\\\":0,\\\"resourceType\\\":\\\"microsoft.operationalinsights/workspaces\\\",\\\"visualization\\\":\\\"tiles\\\",\\\"tileSettings\\\":{\\\"titleContent\\\":{\\\"columnMatch\\\":\\\"SimplifiedDeviceAction\\\",\\\"formatter\\\":1,\\\"formatOptions\\\":{\\\"showIcon\\\":true}},\\\"leftContent\\\":{\\\"columnMatch\\\":\\\"Count\\\",\\\"formatter\\\":12,\\\"formatOptions\\\":{\\\"palette\\\":\\\"auto\\\",\\\"showIcon\\\":true},\\\"numberFormat\\\":{\\\"unit\\\":17,\\\"options\\\":{\\\"maximumSignificantDigits\\\":3,\\\"maximumFractionDigits\\\":2}}},\\\"secondaryContent\\\":{\\\"columnMatch\\\":\\\"Trend\\\",\\\"formatter\\\":9,\\\"formatOptions\\\":{\\\"palette\\\":\\\"purple\\\",\\\"showIcon\\\":true}},\\\"showBorder\\\":false}}\",\"customWidth\":\"30\",\"name\":\"query - 3\"},{\"type\":3,\"content\":\"{\\\"version\\\":\\\"KqlItem/1.0\\\",\\\"query\\\":\\\"//volume by time\\\\r\\\\nCommonSecurityLog\\\\r\\\\n| where DeviceVendor =~ 'Cisco'\\\\r\\\\n| where DeviceProduct =~ 'ASA'\\\\r\\\\n| summarize Volme=count() by bin(TimeGenerated,1h)\\\",\\\"size\\\":0,\\\"color\\\":\\\"grayBlue\\\",\\\"timeContext\\\":{\\\"durationMs\\\":0},\\\"timeContextFromParameter\\\":\\\"TimeRange\\\",\\\"queryType\\\":0,\\\"resourceType\\\":\\\"microsoft.operationalinsights/workspaces\\\",\\\"visualization\\\":\\\"linechart\\\"}\",\"name\":\"query - 4\"}],\"isLocked\":false,\"styleSettings\":{}}",
    "category": "workbook",
    "isPersisted": true,
    "tags": [ "CiscoWorkbook", "1.0" ]
  }
}