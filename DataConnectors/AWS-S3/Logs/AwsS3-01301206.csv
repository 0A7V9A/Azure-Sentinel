"Time","Message","Severity"
"1/30/2022 12:06 PM","Starting ConfigAwsConnector at: 01/30/2022 12:06:09","Information"
"1/30/2022 12:06 PM","Log created: C:\One\ASI\Azure-Sentinel\DataConnectors\AWS-S3\Logs\AwsS3-01301206.csv","Information"
"1/30/2022 12:06 PM","To begin you will choose the AWS logs to configure.","Information"
"1/30/2022 12:06 PM","Checking AWS CLI configuration...","Information"
"1/30/2022 12:06 PM","Starting Vpc flow data connector configuration script","Verbose"
"1/30/2022 12:06 PM","This script creates an Assume Role with minimal permissions to grant Azure Sentinel access to your logs in a designated S3 bucket & SQS of your choice, enable VPCFlow Logs, S3 bucket, SQS Queue, and S3 notifications.","Information"
"1/30/2022 12:06 PM","Notes:","Information"
"1/30/2022 12:06 PM","* You can find more information about the script in https://github.com/Azure/Azure-Sentinel/blob/master/DataConnectors/AWS-S3/README.md","Information"
"1/30/2022 12:06 PM","* If a resource name(like: S3, Sqs, Kms) already exists, the script will use the available one and not create a new resource","Information"
"1/30/2022 12:06 PM","Assume role definition","Information"
"1/30/2022 12:06 PM","Executing Set-RetryAction","Verbose"
"1/30/2022 12:06 PM","Using role name: testScript","Information"
"1/30/2022 12:06 PM","Executing: aws iam get-role --role-name testScript 2>&1| Out-Null","Verbose"
"1/30/2022 12:06 PM","Executing: aws iam get-role --role-name testScript","Verbose"
"1/30/2022 12:06 PM","arn:aws:iam::072643944673:role/testScript","Verbose"
"1/30/2022 12:06 PM","Using S3 Bucket name: testscriptdaniel1","Information"
"1/30/2022 12:06 PM","current region configuration: eu-central-1","Verbose"
"1/30/2022 12:06 PM","Executing: aws s3api head-bucket --bucket testscriptdaniel1 2>&1","Verbose"
"1/30/2022 12:06 PM","Executing: aws s3api create-bucket --bucket testscriptdaniel1 --create-bucket-configuration LocationConstraint=eu-central-1 2>&1","Verbose"
"1/30/2022 12:06 PM","{     ""Location"": ""http://testscriptdaniel1.s3.amazonaws.com/"" }","Verbose"
"1/30/2022 12:06 PM","S3 Bucket testscriptdaniel1 created successfully","Information"
"1/30/2022 12:06 PM","Executing: aws s3api put-bucket-tagging --bucket testscriptdaniel1 --tagging  ""{\""TagSet\"":[{\""Key\"": \""Operator\"", \""Value\"": \""Microsoft_Sentinel_Automation_Script\""}]}""","Verbose"
"1/30/2022 12:06 PM","Executing: (aws sts get-caller-identity | ConvertFrom-Json).Account","Verbose"
"1/30/2022 12:06 PM","072643944673","Verbose"
"1/30/2022 12:06 PM","Executing: (aws sts get-caller-identity | ConvertFrom-Json).Account","Verbose"
"1/30/2022 12:06 PM","072643944673","Verbose"
"1/30/2022 12:06 PM","Listing your available VPC IDs","Information"
"1/30/2022 12:06 PM","Executing: aws ec2 --output text --query 'Vpcs[*].{VpcId:VpcId}' describe-vpcs","Verbose"
"1/30/2022 12:07 PM","Enabling VPC flow Logs (default format)","Information"
